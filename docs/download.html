<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Performa Modpack</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #121212;
                color: #ffffff;
            }
            a {
                color: #66ccff;
            }
        }
        .download-button {
            background-color: #1f883d;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
    <script>
        async function fetchModpack(version, loader) {
			try {
			const response = await fetch(`https://api.modrinth.com/v2/project/Jpn0aBDV/version?loaders=%5B%22${loader}%22%5D&game_versions=%5B%22${version}%22%5D`);
			const versions = await response.json();
			const modVersion = versions.find(v => v.loaders.includes(loader));
			if (modVersion && modVersion.files.length > 0) {
            window.location.href = modVersion.files[0].url;
			} else {
				alert(`No ${loader} version found for ${version}!`);
			}
		} catch (error) {
			console.error("Error fetching version:", error);
			alert("Failed to fetch version. Please try again later.");
		}
	}
    </script>
</head>
<body>
    <h1>Download Performa Modpack</h1>
    <p>Select a version below to download the corresponding Fabric or Quilt Modpack.</p>

    <!-- Download Buttons for Fabric -->
    <button class="download-button" onclick="fetchModpack('1.21.5', 'fabric')">Download 1.21.5 Fabric</button>
    <button class="download-button" onclick="fetchModpack('1.21.4', 'fabric')">Download 1.21.4 Fabric</button>

    <!-- Download Buttons for Quilt -->
    <button class="download-button" onclick="fetchModpack('1.21.5', 'quilt')">Download 1.21.5 Quilt</button>
    <button class="download-button" onclick="fetchModpack('1.21.4', 'quilt')">Download 1.21.4 Quilt</button>

    <!-- Download Buttons for NeoForge -->
    <button class="download-button" onclick="fetchModpack('1.21.5', 'neoforge')">Download 1.21.5 NeoForge</button>
    <button class="download-button" onclick="fetchModpack('1.21.4', 'neoforge')">Download 1.21.4 NeoForge</button>
    
    <br><br>
    <a href="../index.html" class="download-button">Back to Home</a>
</body>
</html>
